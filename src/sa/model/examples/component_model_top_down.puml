@startuml
skinparam componentStyle rectangle

!include <tupadr3/font-awesome/database>

title Fruitdash Top-Down Component Model

interface " " as CDBI
interface " " as APII
interface " " as DSI
interface " " as ISI

component Identity {
   interface " " as ISISIS
   interface " " as AUTH_2FA
   component [Identity Service] as IS
   component [Authorization Service] as AUTHOR
   component [Authentication Service] as AUTHENT
   component [Two Factor Authentication] as 2FA
   IS -- ISISIS 
   ISISIS )-- AUTHOR
   ISISIS )-- AUTHENT
   AUTHENT --( AUTH_2FA
   AUTH_2FA -- 2FA
}

component [Database Service <$database{scale=0.33}>] as CDB 
component [Data API] as API
component [Dashboard] as DS
component [Graph Provider] as GP
component [Data Extractor] as DE

CDB --( CDBI 
CDBI -- API

GP -- APII
DE -- APII
APII )-- API

API -- ISI
DS -- ISI
ISI )-- IS

DE -- DSI
GP -- DSI
DSI )-- DS

skinparam monochrome true
skinparam shadowing false
skinparam defaultFontName Courier
@enduml